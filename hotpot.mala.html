<!DOCTYPE html>
<html lang="th">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>home mala</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>
    <style>
        body { font-family: Arial, sans-serif; text-align: center; }
    </style>
</head>
<body>

<!-- Navbar -->
<nav class="navbar navbar-expand-lg navbar-light bg-light">
    <div class="container">
        <a class="navbar-brand" href="#">หมา ล่า เนื้อ</a>
        <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNav">
            <span class="navbar-toggler-icon"></span>
        </button>
        <div class="collapse navbar-collapse" id="navbarNav">
            <ul class="navbar-nav ms-auto">
                <li class="nav-item">
                    <a class="nav-link" href="homecus.html">หน้าแรก</a>
                </li>
            </ul>
        </div>
    </div>
</nav>

<div class="container py-5">
    <h1 class="mb-4">เมนูแนะนำ</h1>
    <div class="row justify-content-center">
        <div class="col-md-4 card m-2 p-3 text-center menu-item" data-name="หมาล่าสูตรต้นตำรับ" data-price="95">
            <img src="img/1.png" alt="หมาล่าสูตรต้นตำรับ" class="img-fluid mb-3" style="max-height: 300px;">
            <h3>หมาล่าสูตรต้นตำรับ - 95 บาท</h3>
            <button class="btn btn-primary" onclick="addToCart(this)">เพิ่มลงตะกร้า</button>
        </div>
        <div class="col-md-4 card m-2 p-3 text-center menu-item" data-name="หมาล่าซุปกระดูกหมู" data-price="85">
            <img src="img/3.png" alt="หมาล่าซุปกระดูกหมู" class="img-fluid mb-3" style="max-height: 300px;">
            <h3>หมาล่าซุปกระดูกหมู - 85 บาท</h3>
            <button class="btn btn-primary" onclick="addToCart(this)">เพิ่มลงตะกร้า</button>
        </div>
        <div class="col-md-4 card m-2 p-3 text-center menu-item" data-name="หมาล่าซุปน้ำดำ" data-price="85">
            <img src="img/2.png" alt="หมาล่าซุปน้ำดำ" class="img-fluid mb-3" style="max-height: 300px;">
            <h3>หมาล่าซุปน้ำดำ - 85 บาท</h3>
            <button class="btn btn-primary" onclick="addToCart(this)">เพิ่มลงตะกร้า</button>
        </div>
    </div>
    
    <!-- <form method="post" action="generate_pdf.php"> -->
    <div class="mt-4 p-3 border rounded cart">
        <h2>ตะกร้าสินค้า</h2>
        <ul id="cart-list" class="list-group mb-3"></ul>
        <h3>รวม: <span id="total-price">0</span> บาท</h3>
        <button class="btn btn-success" onclick="placeOrder()">สั่งอาหาร</button>
    </div>
</div>
</form>

<script>
    let cart = [];

    function addToCart(button) {
        let item = button.parentElement;
        let name = item.getAttribute("data-name");
        let price = parseInt(item.getAttribute("data-price"));
        
        let existingItem = cart.find(i => i.name === name);
        if (existingItem) {
            existingItem.quantity += 1;
        } else {
            cart.push({ name, price, quantity: 1 });
        }
        updateCart();
    }

    function updateCart() {
        let cartList = document.getElementById("cart-list");
        let totalPrice = 0;
        cartList.innerHTML = "";
        cart.forEach(item => {
            totalPrice += item.price * item.quantity;
            cartList.innerHTML += `<li class="list-group-item">${item.name} x ${item.quantity} = ${item.price * item.quantity} บาท</li>`;
        });
        document.getElementById("total-price").textContent = totalPrice;
    }

    function placeOrder() {
        if (cart.length === 0) {
            alert("กรุณาเลือกอาหารก่อนสั่ง!");
            return;
        }
        alert("สั่งอาหารเรียบร้อย! ขอบคุณที่ใช้บริการ");
        cart = [];
        updateCart();
    }
</script>

</body>
</html>